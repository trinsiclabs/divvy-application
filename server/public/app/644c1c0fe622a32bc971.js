(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{515:function(e,t,a){"use strict";var n=a(637),r=a(12),o=a.n(r),i=a(1),l=a.n(i),c=a(73),u=a(648),s=a(623),m=a(624),g=a(625),f=a(626),p=a(212),d=a(525),b=a.n(d),E=a(526),h=a.n(E),v=a(511),y=Object(p.a)({list:{width:250}}),C=function(e,t){return function(){e(t)}},O=function(e){var t=y();return l.a.createElement(u.a,{open:e.isOpen,onClose:e.onClose},l.a.createElement("div",{className:t.list,onClick:e.onClose,onKeyDown:e.onClose,role:"presentation"},l.a.createElement(s.a,null,l.a.createElement(m.a,{button:!0,onClick:C(e.routeTo,v.a.HOME.PATH)},l.a.createElement(g.a,null,l.a.createElement(b.a,null)),l.a.createElement(f.a,{primary:"Dashboard"})),l.a.createElement(m.a,{button:!0,onClick:C(e.routeTo,v.a.WALLET.PATH)},l.a.createElement(g.a,null,l.a.createElement(h.a,null)),l.a.createElement(f.a,{primary:v.a.WALLET.TITLE})))))};O.propTypes={isOpen:o.a.bool.isRequired,onClose:o.a.func.isRequired,routeTo:o.a.func.isRequired};var k=O,w=a(632),j=a(629),T=a(643),N=a(631),P=a(628),S=a(574),L=a(630),x=a(627),A=a(528),M=a.n(A),H=a(527),I=a.n(H);var q=Object(p.a)((function(e){return{root:{position:"relative"},logo:{marginRight:e.spacing(1)},logoCenter:{position:"absolute",left:"50%",marginLeft:"-24px"},title:{flexGrow:1},login:{transform:"rotate(180deg)"},button:{marginLeft:e.spacing(1)}}})),B=function(e){var t,a,n,r=q(),o=l.a.createElement(P.a,{className:I()(r.logo,(t={},a=r.logoCenter,n=null===e.onClickLogin,a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t)),color:"inherit",edge:"start",onClick:e.onClickLogo},l.a.createElement(S.a,null,l.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})));return l.a.createElement("div",{className:r.root},l.a.createElement(T.a,{mb:4,style:{position:"relative"}},l.a.createElement(j.a,{position:"static"},l.a.createElement(L.a,null,null!==e.onClickMenuButton&&l.a.createElement(P.a,{"aria-label":"Menu",className:r.menuButton,color:"inherit",edge:"start",onClick:e.onClickMenuButton},l.a.createElement(M.a,null)),o,l.a.createElement(x.a,{id:"page-title",className:r.title,variant:"h6"},e.title),null!==e.onClickSignup&&l.a.createElement(N.a,{className:r.button,variant:"outlined",color:"inherit",onClick:e.onClickSignup},"Signup"),null!==e.onClickLogin&&l.a.createElement(N.a,{className:r.button,variant:"outlined",color:"inherit",onClick:e.onClickLogin},"Login"),null!==e.onClickLogout&&l.a.createElement(N.a,{className:r.button,variant:"outlined",color:"inherit",onClick:e.onClickLogout},"Logout"))),e.showProgress&&l.a.createElement(w.a,{color:"secondary",style:{position:"absolute",width:"100%",bottom:"-4px"}})))};B.propTypes={title:o.a.string.isRequired,onClickLogin:o.a.func,onClickLogo:o.a.func,onClickLogout:o.a.func,onClickSignup:o.a.func,onClickMenuButton:o.a.func,showProgress:o.a.bool},B.defaultProps={onClickLogin:null,onClickLogo:null,onClickLogout:null,onClickSignup:null,onClickMenuButton:null,showProgress:!1};var D=B,W=a(633),R=a(634),z=a(650),G=a(636),F=a(529),$=a.n(F),J=a(533),U=a.n(J),V=a(531),K=a.n(V),Q=a(532),X=a.n(Q),Y=a(530),Z=a.n(Y),_=a(115),ee=a(116);function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var ae={success:$.a,warning:Z.a,error:K.a,info:X.a},ne=Object(p.a)((function(e){return{success:{backgroundColor:W.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:R.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})),re=function(e){var t=function(t){var a=ne(),n=ae[t.message.type],r=l.a.createElement(z.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t.message.show,autoHideDuration:6e3,onClose:t.hideMessage},l.a.createElement(G.a,{className:Object(_.a)(a[t.message.type]),"aria-describedby":"client-snackbar",message:l.a.createElement("span",{id:"client-snackbar",className:a.message},l.a.createElement(n,{className:Object(_.a)(a.icon,a.iconVariant)}),t.message.content),action:[l.a.createElement(P.a,{key:"close","aria-label":"Close",color:"inherit",onClick:t.hideMessage},l.a.createElement(U.a,{className:a.icon}))]}));return l.a.createElement(e,te({},t,{message:r}))};t.propTypes={message:o.a.object.isRequired,showMessage:o.a.func.isRequired};return Object(c.c)((function(e){return{message:e.message}}),(function(e){return{hideMessage:function(){e({type:ee.a.HIDE})},showMessage:function(t,a){e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return{type:ee.a.SHOW,payload:{content:e,type:t}}}(t,a))}}}))(t)},oe=a(649),ie=a(536),le=a(534),ce=a.n(le),ue=Object(p.a)((function(e){return{breadcrumbs:{marginBottom:e.spacing(5)}}})),se=function(e){var t=Object.keys(v.a).find((function(t){return function(e,t){return null!==ce()(t).exec(e)}(e,v.a[t].PATH)}));return void 0!==t?v.a[t].TITLE:""},me=function(e){if(e.location.pathname===v.a.HOME.PATH)return null;var t=ue(),a=location.pathname.split("/");return l.a.createElement(n.a,{fixed:!0},l.a.createElement(oe.a,{className:t.breadcrumbs,"aria-label":"Breadcrumb"},l.a.createElement(ie.a,{color:"inherit",to:v.a.HOME.PATH},"Home"),a.reduce((function(e,t,n){if(""===t)return e;var r="".concat(a.slice(0,n+1).join("/")),o=se(r);if(""===o)return e;var i=n===a.length-1?l.a.createElement(x.a,{key:r,color:"textPrimary"},o):l.a.createElement(ie.a,{key:r,color:"inherit",to:r},o);return e.push(i),e}),[])))};me.propTypes={location:o.a.object.isRequired};var ge=me,fe=Object(p.a)((function(e){return{footer:{marginTop:"auto"},container:{marginTop:e.spacing(4),padding:e.spacing(2),backgroundColor:"white"}}})),pe=function(e){var t=fe();return l.a.createElement("footer",{className:t.footer},l.a.createElement("div",{className:t.container},l.a.createElement(n.a,{fixed:!0},l.a.createElement(x.a,{variant:"body1"},"Copyright | Terms of use | Privacy"))))};function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.a=function(e){var t=function(t){var a=de(Object(i.useState)(!1),2),r=a[0],o=a[1],c=t.siteConfig.data.readSiteConfig[0].AllowPublicSignup;return l.a.createElement(l.a.Fragment,null,t.Member?l.a.createElement(D,{title:t.headerTitle,onClickLogo:function(){return t.routeTo(v.a.HOME.PATH)},onClickLogout:function(){window.location=v.a.LOGOUT.PATH},onClickMenuButton:function(){return o(!r)}}):l.a.createElement(D,{title:t.headerTitle,onClickLogo:function(){return t.routeTo(v.a.HOME.PATH)},onClickLogin:function(){window.location=v.a.LOGIN.PATH},onClickSignup:c?function(){return t.routeTo(v.a.SIGNUP.PATH)}:null,showProgress:!1}),t.showBreadcrumbs&&l.a.createElement(ge,{location:t.location}),t.Member&&l.a.createElement(k,{isOpen:r,onClose:function(){return o(!r)},routeTo:t.routeTo}),l.a.createElement(n.a,{fixed:!0,component:"main"},l.a.createElement(e,t)),t.message,l.a.createElement(pe,null))};t.propTypes={headerTitle:o.a.string.isRequired,showBreadcrumbs:o.a.bool},t.defaultProps={showBreadcrumbs:!0},t=re(t);return Object(c.c)((function(e){return{location:e.router.location}}),(function(){return{}}))(t)}},599:function(e,t,a){"use strict";a.r(t);var n=a(600),r=a(631),o=a(647),i=a(637),l=a(641),c=a(640),u=a(638),s=a(642),m=a(212),g=a(644),f=a(627),p=a(562),d=a.n(p),b=a(598),E=a(1),h=a.n(E),v=a(511),y=a(515),C=a(66),O=a(58);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function j(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  mutation AddAccount($organisationName: String!, $members: [ID]) {\n    addAccount(OrganisationName: $organisationName, Members: $members) {\n      ID\n    }\n  }\n"]);return j=function(){return e},e}var T=Object(O.b)(j()),N=function(e){return Object(C.a)(T,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){w(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e))},P=a(150);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var L=Object(m.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},confirmation:{marginTop:e.spacing(2),textAlign:"center"},form:{width:"100%",marginTop:e.spacing(3)},paper:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(3,0,2)},status:{marginBottom:e.spacing(2),textAlign:"center"}}})),x=function(e){var t=L(),a=S(Object(E.useState)(!1),2),m=a[0],p=a[1],y=S(N(),1)[0],C=S(Object(P.a)(),1)[0];return h.a.createElement(i.a,{maxWidth:"xs"},h.a.createElement(u.a,{container:!0,spacing:3},h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement("div",{className:t.paper},h.a.createElement(n.a,{className:t.avatar},h.a.createElement(d.a,null)),h.a.createElement(f.a,{component:"h1",variant:"h5",gutterBottom:!0},m?"Confirm your email address":"Sign up"),h.a.createElement(b.a,{onSubmit:function(e,t){var a=e.firstName,n=e.surname,r=e.email,o=e.password,i=e.organisationName;C({variables:{firstName:a,surname:n,email:r,password:o}}).then((function(e){var t=e.data;return y({variables:{organisationName:i,members:[t.addMember.ID]}})})).then((function(){p(!0)})).catch((function(e){console.log(e),t.setStatus(e.graphQLErrors[0].message)})).finally((function(){t.setSubmitting(!1)}))},render:function(e){var a=e.errors,n=e.handleChange,i=e.handleSubmit,p=e.isSubmitting,d=e.status,b=e.values;return h.a.createElement(h.a.Fragment,null,m?h.a.createElement(f.a,{className:t.confirmation,component:"p"},"We have sent a confirmation email to ",b.email,h.a.createElement("br",null),h.a.createElement("br",null),"Click the link in your email to confirm and get started."):h.a.createElement("form",{className:t.form,onSubmit:i},h.a.createElement(u.a,{container:!0,spacing:2},d&&h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement(c.a,{className:t.status,error:!0},d)),h.a.createElement(u.a,{item:!0,xs:12,sm:6},h.a.createElement(g.a,{id:"firstName",label:"First Name",onChange:n,variant:"outlined",required:!0,fullWidth:!0,autoComplete:"fname",autoFocus:!0,error:a.firstName||void 0})),h.a.createElement(u.a,{item:!0,xs:12,sm:6},h.a.createElement(g.a,{id:"surname",label:"Surname",onChange:n,variant:"outlined",required:!0,fullWidth:!0,autoComplete:"lname",error:a.surname||void 0})),h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement(g.a,{id:"organisationName",label:"Organisation",onChange:n,type:"text",variant:"outlined",required:!0,fullWidth:!0,error:a.organisationName||void 0})),h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement(g.a,{id:"email",label:"Email",onChange:n,type:"email",variant:"outlined",required:!0,fullWidth:!0,autoComplete:"email",error:a.email||void 0})),h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement(g.a,{id:"password",label:"Password",onChange:n,type:"password",variant:"outlined",required:!0,fullWidth:!0,autoComplete:"current-password",error:a.password||void 0})),h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement(l.a,{control:h.a.createElement(o.a,{id:"acceptTerms",color:"primary",onChange:n,required:!0,error:a.acceptTerms||void 0}),label:"I have read and I agree to the terms of use and privacy notice."}))),h.a.createElement(r.a,{className:t.submit,color:"primary",disabled:p,type:"submit",variant:"contained",fullWidth:!0},"Sign up"),h.a.createElement(u.a,{container:!0,justify:"center"},h.a.createElement(u.a,{item:!0},h.a.createElement(s.a,{href:v.a.LOGIN.PATH,variant:"body2"},"Already have an account? Sign in")))))}})))))};x=Object(y.a)(x);t.default=x}}]);