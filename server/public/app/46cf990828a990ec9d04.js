(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{519:function(e,a,t){"use strict";t.d(a,"a",(function(){return o})),t.d(a,"b",(function(){return i}));var n=t(542),r=t.n(n),o=function(e,a){return r.a.compile(e)(a)},i=function(e,a){return null!==r()(a).exec(e)}},520:function(e,a,t){"use strict";var n=t(667),r=t(12),o=t.n(r),i=t(1),l=t.n(i),c=t(73),u=t(682),s=t(654),m=t(655),g=t(656),d=t(657),p=t(652),f=t(533),b=t.n(f),E=t(534),h=t.n(E),v=t(513),C=Object(p.a)({list:{width:250}}),y=function(e,a){return function(){e(a)}},k=function(e){var a=C();return l.a.createElement(u.a,{open:e.isOpen,onClose:e.onClose},l.a.createElement("div",{className:a.list,onClick:e.onClose,onKeyDown:e.onClose,role:"presentation"},l.a.createElement(s.a,null,l.a.createElement(m.a,{button:!0,onClick:y(e.routeTo,v.a.HOME.PATH)},l.a.createElement(g.a,null,l.a.createElement(b.a,null)),l.a.createElement(d.a,{primary:e.orgName})),l.a.createElement(m.a,{button:!0,onClick:y(e.routeTo,v.a.WALLET.PATH)},l.a.createElement(g.a,null,l.a.createElement(h.a,null)),l.a.createElement(d.a,{primary:v.a.WALLET.TITLE})))))};k.propTypes={isOpen:o.a.bool.isRequired,onClose:o.a.func.isRequired,routeTo:o.a.func.isRequired};var w=k,T=t(663),O=t(660),N=t(678),L=t(662),j=t(659),S=t(585),x=t(661),A=t(658),P=t(536),H=t.n(P),M=t(535),q=t.n(M);var B=Object(p.a)((function(e){return{root:{position:"relative"},logo:{marginRight:e.spacing(1)},logoCenter:{position:"absolute",left:"50%",marginLeft:"-24px"},title:{flexGrow:1},login:{transform:"rotate(180deg)"},button:{marginLeft:e.spacing(1)}}})),I=function(e){var a,t,n,r=B();l.a.createElement(j.a,{className:q()(r.logo,(a={},t=r.logoCenter,n=null===e.onClickLogin,t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a)),color:"inherit",edge:"start",onClick:e.onClickLogo},l.a.createElement(S.a,null,l.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})));return l.a.createElement("div",{className:r.root},l.a.createElement(N.a,{mb:4,style:{position:"relative"}},l.a.createElement(O.a,{position:"static"},l.a.createElement(x.a,null,null!==e.onClickMenuButton&&l.a.createElement(j.a,{"aria-label":"Menu",className:r.menuButton,color:"inherit",edge:"start",onClick:e.onClickMenuButton},l.a.createElement(H.a,null)),l.a.createElement(A.a,{id:"page-title",className:r.title,variant:"h6"},e.title),null!==e.onClickSignup&&l.a.createElement(L.a,{className:r.button,variant:"outlined",color:"inherit",onClick:e.onClickSignup},"Signup"),null!==e.onClickLogin&&l.a.createElement(L.a,{className:r.button,variant:"outlined",color:"inherit",onClick:e.onClickLogin},"Login"),null!==e.onClickLogout&&l.a.createElement(L.a,{className:r.button,variant:"outlined",color:"inherit",onClick:e.onClickLogout},"Logout"))),e.showProgress&&l.a.createElement(T.a,{color:"secondary",style:{position:"absolute",width:"100%",bottom:"-4px"}})))};I.propTypes={title:o.a.string.isRequired,onClickLogin:o.a.func,onClickLogo:o.a.func,onClickLogout:o.a.func,onClickSignup:o.a.func,onClickMenuButton:o.a.func,showProgress:o.a.bool},I.defaultProps={onClickLogin:null,onClickLogo:null,onClickLogout:null,onClickSignup:null,onClickMenuButton:null,showProgress:!1};var W=I,R=t(116),D=t(664),G=t(684),F=t(666),z=t(537),J=t.n(z),U=t(541),V=t.n(U),K=t(539),Q=t.n(K),X=t(540),Y=t.n(X),Z=t(538),$=t.n(Z),_=t(117),ee=t(118);function ae(){return(ae=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var te={success:J.a,warning:$.a,error:Q.a,info:Y.a},ne=Object(p.a)((function(e){return{success:{backgroundColor:R.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:D.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})),re=function(e){var a=function(a){var t=ne(),n=te[a.message.type],r=l.a.createElement(G.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a.message.show,autoHideDuration:6e3,onClose:a.hideMessage},l.a.createElement(F.a,{className:Object(_.a)(t[a.message.type]),"aria-describedby":"client-snackbar",message:l.a.createElement("span",{id:"client-snackbar",className:t.message},l.a.createElement(n,{className:Object(_.a)(t.icon,t.iconVariant)}),a.message.content),action:[l.a.createElement(j.a,{key:"close","aria-label":"Close",color:"inherit",onClick:a.hideMessage},l.a.createElement(V.a,{className:t.icon}))]}));return l.a.createElement(e,ae({},a,{message:r}))};a.propTypes={message:o.a.object.isRequired,showMessage:o.a.func.isRequired};return Object(c.c)((function(e){return{message:e.message}}),(function(e){return{hideMessage:function(){e({type:ee.a.HIDE})},showMessage:function(a,t){e(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return{type:ee.a.SHOW,payload:{content:e,type:a}}}(a,t))}}}))(a)},oe=t(683),ie=t(544),le=t(519),ce=Object(p.a)((function(e){return{breadcrumbs:{marginBottom:e.spacing(5)}}})),ue=function(e){if(e.location.pathname===v.a.HOME.PATH)return null;var a=ce(),t=location.pathname.split("/");return l.a.createElement(n.a,{fixed:!0},l.a.createElement(oe.a,{className:a.breadcrumbs,"aria-label":"Breadcrumb"},l.a.createElement(ie.a,{color:"inherit",to:v.a.HOME.PATH},"Home"),t.reduce((function(e,a,n){if(""===a)return e;var r,o,i="".concat(t.slice(0,n+1).join("/")),c=(r=i,void 0!==(o=Object.keys(v.a).find((function(e){return Object(le.b)(r,v.a[e].PATH)})))?v.a[o].TITLE:"");if(""===c)return e;var u=n===t.length-1?l.a.createElement(A.a,{key:i,color:"textPrimary"},c):l.a.createElement(ie.a,{key:i,color:"inherit",to:i},c);return e.push(u),e}),[])))};ue.propTypes={location:o.a.object.isRequired};var se=ue;Object(p.a)((function(e){return{footer:{marginTop:"auto"},container:{marginTop:e.spacing(4),padding:e.spacing(2),backgroundColor:"white"}}}));function me(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(t.push(i.value),!a||t.length!==a);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.a=function(e){var a=function(a){var t=me(Object(i.useState)(!1),2),r=t[0],o=t[1],c=a.siteConfig.data.readSiteConfig[0].AllowPublicSignup;return l.a.createElement(l.a.Fragment,null,a.Member?l.a.createElement(W,{title:a.headerTitle,onClickLogo:function(){return a.routeTo(v.a.HOME.PATH)},onClickLogout:function(){window.location=v.a.LOGOUT.PATH},onClickMenuButton:function(){return o(!r)}}):l.a.createElement(W,{title:a.headerTitle,onClickLogo:function(){return a.routeTo(v.a.HOME.PATH)},onClickLogin:function(){window.location=v.a.LOGIN.PATH},onClickSignup:c?function(){return a.routeTo(v.a.SIGNUP.PATH)}:null,showProgress:!1}),a.showBreadcrumbs&&l.a.createElement(se,{location:a.location}),a.Account&&a.Member&&l.a.createElement(w,{isOpen:r,onClose:function(){return o(!r)},orgName:a.Account.OrganisationName,routeTo:a.routeTo}),l.a.createElement(n.a,{fixed:!0,component:"main"},l.a.createElement(e,a)),a.message)};a.propTypes={headerTitle:o.a.string.isRequired,showBreadcrumbs:o.a.bool},a.defaultProps={showBreadcrumbs:!0},a=re(a);return Object(c.c)((function(e){return{location:e.router.location}}),(function(){return{}}))(a)}},614:function(e,a,t){"use strict";t.r(a);var n=t(626),r=t(662),o=t(681),i=t(667),l=t(676),c=t(675),u=t(668),s=t(612),m=t(652),g=t(677),d=t(658),p=t(574),f=t.n(p),b=t(623),E=t(1),h=t.n(E),v=t(513),C=t(520),y=t(198),k=t(154);function w(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(t.push(i.value),!a||t.length!==a);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T=Object(m.a)((function(e){return{avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},confirmation:{marginTop:e.spacing(2),textAlign:"center"},form:{width:"100%",marginTop:e.spacing(3)},paper:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(3,0,2)},status:{marginBottom:e.spacing(2),textAlign:"center"}}})),O=function(e){var a=T(),t=w(Object(E.useState)(!1),2),m=t[0],p=t[1],C=w(Object(y.a)(),1)[0],O=w(Object(k.a)(),1)[0];return h.a.createElement(i.a,{maxWidth:"xs"},h.a.createElement(u.a,{container:!0,spacing:3},h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement("div",{className:a.paper},h.a.createElement(n.a,{className:a.avatar},h.a.createElement(f.a,null)),h.a.createElement(d.a,{component:"h1",variant:"h5",gutterBottom:!0},m?"Confirm your email address":"Sign up"),h.a.createElement(b.a,{onSubmit:function(e,a){var t=e.firstName,n=e.surname,r=e.email,o=e.password,i=e.organisationName;O({variables:{firstName:t,surname:n,email:r,password:o}}).then((function(e){var a=e.data;return C({variables:{organisationName:i,members:[a.addMember.ID]}})})).then((function(){p(!0)})).catch((function(e){console.log(e),a.setStatus(e.graphQLErrors[0].message)})).finally((function(){a.setSubmitting(!1)}))},render:function(e){var t=e.errors,n=e.handleChange,i=e.handleSubmit,p=e.isSubmitting,f=e.status,b=e.values;return h.a.createElement(h.a.Fragment,null,m?h.a.createElement(d.a,{className:a.confirmation,component:"p"},"We have sent a confirmation email to ",b.email,h.a.createElement("br",null),h.a.createElement("br",null),"Click the link in your email to confirm and get started."):h.a.createElement("form",{className:a.form,onSubmit:i},h.a.createElement(u.a,{container:!0,spacing:2},f&&h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement(c.a,{className:a.status,error:!0},f)),h.a.createElement(u.a,{item:!0,xs:12,sm:6},h.a.createElement(g.a,{id:"firstName",label:"First Name",onChange:n,variant:"outlined",required:!0,fullWidth:!0,autoComplete:"fname",autoFocus:!0,error:t.firstName||void 0})),h.a.createElement(u.a,{item:!0,xs:12,sm:6},h.a.createElement(g.a,{id:"surname",label:"Surname",onChange:n,variant:"outlined",required:!0,fullWidth:!0,autoComplete:"lname",error:t.surname||void 0})),h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement(g.a,{id:"organisationName",label:"Organisation",onChange:n,type:"text",variant:"outlined",required:!0,fullWidth:!0,error:t.organisationName||void 0})),h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement(g.a,{id:"email",label:"Email",onChange:n,type:"email",variant:"outlined",required:!0,fullWidth:!0,autoComplete:"email",error:t.email||void 0})),h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement(g.a,{id:"password",label:"Password",onChange:n,type:"password",variant:"outlined",required:!0,fullWidth:!0,autoComplete:"current-password",error:t.password||void 0})),h.a.createElement(u.a,{item:!0,xs:12},h.a.createElement(l.a,{control:h.a.createElement(o.a,{id:"acceptTerms",color:"primary",onChange:n,required:!0,error:t.acceptTerms||void 0}),label:"I have read and I agree to the terms of use and privacy notice."}))),h.a.createElement(r.a,{className:a.submit,color:"primary",disabled:p,type:"submit",variant:"contained",fullWidth:!0},"Sign up"),h.a.createElement(u.a,{container:!0,justify:"center"},h.a.createElement(u.a,{item:!0},h.a.createElement(s.a,{href:v.a.LOGIN.PATH,variant:"body2"},"Already have an account? Sign in")))))}})))))};O=Object(C.a)(O),a.default=O}}]);